{"version":3,"sources":["App.jsx","index.jsx"],"names":["App","useState","isGoing","setIsGoing","seconds","setSeconds","minutes","setMinutes","hours","setHours","wait","useCallback","useEffect","unsubscribe$","Subject","interval","pipe","takeUntil","subscribe","val","click$","fromEvent","document","querySelector","buffer","debounceTime","map","clicks","length","filter","clicksLength","next","complete","start","stop","reset","className","onClick","ReactDOM","render","StrictMode","getElementById"],"mappings":"iRA+EeA,MAzEf,WACE,MAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAA8BJ,mBAAS,GAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KACA,EAA0BN,mBAAS,GAAnC,mBAAOO,EAAP,KAAcC,EAAd,KAEMC,EAAOC,uBAAY,WACvBR,GAAW,KACV,IAEHS,qBAAU,WACR,IAAMC,EAAe,IAAIC,IACzBC,YAAS,KACNC,KAAKC,YAAUJ,IACfK,WAAU,YACO,IAAZhB,IACFG,GAAW,SAAAc,GAAG,OAAKA,EAAM,GAAK,EAAIA,EAAM,KACxCZ,GAAW,SAAAY,GAAG,OAAKf,EAAU,GAAKe,EAAM,EAAIA,EAAM,GAAK,EAAIA,KAC3DV,GAAS,SAAAU,GAAG,OAAKb,EAAU,GAAKa,EAAM,EAAIA,SAIhD,IAAMC,EAASC,YAAUC,SAASC,cAAc,SAAU,SAU1D,OARqBH,EAAOJ,KAC1BQ,YAAOJ,EAAOJ,KAAKS,YAAa,OAChCC,aAAI,SAAAC,GAAM,OAAIA,EAAOC,UACrBC,aAAO,SAAAC,GAAY,OAAqB,IAAjBA,MAGZZ,WAAU,kBAAMR,OAEtB,WACLG,EAAakB,OACblB,EAAamB,cAEd,CAAC9B,EAASE,EAASE,EAASI,IAE/B,IAAMuB,EAAQtB,uBAAY,WACxBR,GAAW,KACV,IAEG+B,EAAOvB,uBAAY,WACvBR,GAAW,GACXE,EAAW,GACXE,EAAW,GACXE,EAAS,KACR,IAEG0B,EAAQxB,uBAAY,WACxBN,EAAW,GACXE,EAAW,GACXE,EAAS,KACR,IAEH,OACE,sBAAK2B,UAAU,YAAf,UACE,sBAAKA,UAAU,UAAf,UACE,+BAAO5B,EAAQ,GAAR,WAAiBA,GAAUA,IAClC,+BAAOF,EAAU,GAAV,WAAmBA,GAAYA,IACtC,+BAAOF,EAAU,GAAV,WAAmBA,GAAYA,OAExC,sBAAKgC,UAAU,UAAf,UACE,wBAAQC,QAASnC,EAAUgC,EAAOD,EAAlC,SACG/B,EAAU,OAAS,UAEtB,wBAAQkC,UAAU,OAAlB,kBACA,wBAAQC,QAASF,EAAjB,0BCrERG,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFlB,SAASmB,eAAe,W","file":"static/js/main.4542f1b7.chunk.js","sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { interval, takeUntil, Subject, fromEvent } from 'rxjs';\nimport { map, buffer, filter, debounceTime } from 'rxjs/operators';\n\nimport './base.scss';\n\nfunction App() {\n  const [isGoing, setIsGoing] = useState(false);\n  const [seconds, setSeconds] = useState(0);\n  const [minutes, setMinutes] = useState(0);\n  const [hours, setHours] = useState(0);\n\n  const wait = useCallback(() => {\n    setIsGoing(false);\n  }, []);\n\n  useEffect(() => {\n    const unsubscribe$ = new Subject();\n    interval(1000)\n      .pipe(takeUntil(unsubscribe$))\n      .subscribe(() => {\n        if (isGoing === true) {\n          setSeconds(val => (val > 59 ? 0 : val + 1));\n          setMinutes(val => (seconds > 59 ? val + 1 : val > 59 ? 0 : val));\n          setHours(val => (minutes > 59 ? val + 1 : val));\n        }\n      });\n\n    const click$ = fromEvent(document.querySelector('.wait'), 'click');\n\n    const doubleClick$ = click$.pipe(\n      buffer(click$.pipe(debounceTime(300))),\n      map(clicks => clicks.length),\n      filter(clicksLength => clicksLength === 2),\n    );\n\n    doubleClick$.subscribe(() => wait());\n\n    return () => {\n      unsubscribe$.next();\n      unsubscribe$.complete();\n    };\n  }, [isGoing, seconds, minutes, wait]);\n\n  const start = useCallback(() => {\n    setIsGoing(true);\n  }, []);\n\n  const stop = useCallback(() => {\n    setIsGoing(false);\n    setSeconds(0);\n    setMinutes(0);\n    setHours(0);\n  }, []);\n\n  const reset = useCallback(() => {\n    setSeconds(0);\n    setMinutes(0);\n    setHours(0);\n  }, []);\n\n  return (\n    <div className=\"stopwatch\">\n      <div className=\"monitor\">\n        <span>{hours < 10 ? `0${hours}` : hours}</span>\n        <span>{minutes < 10 ? `0${minutes}` : minutes}</span>\n        <span>{seconds < 10 ? `0${seconds}` : seconds}</span>\n      </div>\n      <div className=\"btn-box\">\n        <button onClick={isGoing ? stop : start}>\n          {isGoing ? 'Stop' : 'Start'}\n        </button>\n        <button className=\"wait\">Wait</button>\n        <button onClick={reset}>Reset</button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}